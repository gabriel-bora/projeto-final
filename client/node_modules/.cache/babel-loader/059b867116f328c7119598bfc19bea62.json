{"ast":null,"code":"\"use strict\";\n\nconst {\n  compressFile: compressBuffer,\n  decompressFile: decompressBuffer\n} = require(\"lzma-purejs\");\nconst Jimp = require(\"jimp\");\nconst steggy = require(\"steggy-noencrypt\");\nconst calculateImageWidth = input => Math.floor((40 + input.length) * 32 / 3);\nmodule.exports = async input => {\n  if (!Buffer.isBuffer(input)) {\n    throw new TypeError(`Expected a buffer, got ${typeof input}`);\n  }\n  input = compressBuffer(input);\n  const image = await Jimp.create(calculateImageWidth(input), 1);\n  const imageBuffer = await image.getBufferAsync(Jimp.MIME_PNG);\n  return steggy.conceal(imageBuffer, input);\n};\nmodule.exports.from = async input => {\n  if (!Buffer.isBuffer(input)) {\n    throw new TypeError(`Expected a buffer, got ${typeof input}`);\n  }\n  return decompressBuffer(steggy.reveal(input));\n};","map":{"version":3,"names":["compressFile","compressBuffer","decompressFile","decompressBuffer","require","Jimp","steggy","calculateImageWidth","input","Math","floor","length","module","exports","Buffer","isBuffer","TypeError","image","create","imageBuffer","getBufferAsync","MIME_PNG","conceal","from","reveal"],"sources":["D:/Documents/QQTech/projeto-final/client/node_modules/buffer-image/index.js"],"sourcesContent":["\"use strict\"\n\nconst { compressFile: compressBuffer, decompressFile: decompressBuffer } = require(\"lzma-purejs\")\nconst Jimp = require(\"jimp\")\nconst steggy = require(\"steggy-noencrypt\")\n\nconst calculateImageWidth = input => Math.floor((40 + input.length) * 32 / 3)\n\nmodule.exports = async input => {\n\tif (!Buffer.isBuffer(input)) {\n\t\tthrow new TypeError(`Expected a buffer, got ${typeof input}`)\n\t}\n\n\tinput = compressBuffer(input)\n\n\tconst image = await Jimp.create(calculateImageWidth(input), 1)\n\tconst imageBuffer = await image.getBufferAsync(Jimp.MIME_PNG)\n\n\treturn steggy.conceal(imageBuffer, input)\n}\n\nmodule.exports.from = async input => {\n\tif (!Buffer.isBuffer(input)) {\n\t\tthrow new TypeError(`Expected a buffer, got ${typeof input}`)\n\t}\n\n\treturn decompressBuffer(steggy.reveal(input))\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA,YAAY,EAAEC,cAAc;EAAEC,cAAc,EAAEC;AAAiB,CAAC,GAAGC,OAAO,CAAC,aAAa,CAAC;AACjG,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,MAAM,GAAGF,OAAO,CAAC,kBAAkB,CAAC;AAE1C,MAAMG,mBAAmB,GAAGC,KAAK,IAAIC,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,GAAGF,KAAK,CAACG,MAAM,IAAI,EAAE,GAAG,CAAC,CAAC;AAE7EC,MAAM,CAACC,OAAO,GAAG,MAAML,KAAK,IAAI;EAC/B,IAAI,CAACM,MAAM,CAACC,QAAQ,CAACP,KAAK,CAAC,EAAE;IAC5B,MAAM,IAAIQ,SAAS,CAAE,0BAAyB,OAAOR,KAAM,EAAC,CAAC;EAC9D;EAEAA,KAAK,GAAGP,cAAc,CAACO,KAAK,CAAC;EAE7B,MAAMS,KAAK,GAAG,MAAMZ,IAAI,CAACa,MAAM,CAACX,mBAAmB,CAACC,KAAK,CAAC,EAAE,CAAC,CAAC;EAC9D,MAAMW,WAAW,GAAG,MAAMF,KAAK,CAACG,cAAc,CAACf,IAAI,CAACgB,QAAQ,CAAC;EAE7D,OAAOf,MAAM,CAACgB,OAAO,CAACH,WAAW,EAAEX,KAAK,CAAC;AAC1C,CAAC;AAEDI,MAAM,CAACC,OAAO,CAACU,IAAI,GAAG,MAAMf,KAAK,IAAI;EACpC,IAAI,CAACM,MAAM,CAACC,QAAQ,CAACP,KAAK,CAAC,EAAE;IAC5B,MAAM,IAAIQ,SAAS,CAAE,0BAAyB,OAAOR,KAAM,EAAC,CAAC;EAC9D;EAEA,OAAOL,gBAAgB,CAACG,MAAM,CAACkB,MAAM,CAAChB,KAAK,CAAC,CAAC;AAC9C,CAAC"},"metadata":{},"sourceType":"script"}